{% load staticfiles %}<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>K线图</title>    <script type="application/javascript" src="{% static 'js/jquery-1.11.2.min.js' %}"></script>    <script type="application/javascript" src="{% static 'js/echarts.js' %}"></script>    <link rel="stylesheet" type="text/css" href="{% static 'css/semantic.min.css' %}"></head><body><div class="menu">    <table class="ui celled table">        <thead>        <tr>            <th>名称</th>            <th>最新价</th>            {#            <th>涨跌</th>#}            <th>开盘价</th>            {#            <th>昨收价</th>#}            <th>最高价</th>            <th>最低价</th>            <th>报价时间</th>        </tr>        </thead>        <tbody>        <tr>            <td>{{ name }}</td>            <td>{{ price|floatformat:2 }}</td>            <td>{{ open|floatformat:2 }}</td>            <td>{{ height|floatformat:2 }}</td>            <td>{{ low|floatformat:2 }}</td>            <td>{{ time }}</td>        </tr>    </table>    <div class="buttons">        <a href="javascript:;" class="ui mini button ticks">分时</a>        <a href="javascript:;" class="ui mini button">日K</a>        <a href="javascript:;" class="ui mini button">周线</a>        <a href="javascript:;" class="ui mini button">月线</a>        <a href="javascript:;" class="ui mini button">5分钟</a>        <a href="javascript:;" class="ui mini button">10分钟</a>        <a href="javascript:;" class="ui mini button">30分钟</a>        <a href="javascript:;" class="ui mini button">60分钟</a>    </div></div><div id="content" style="height:500px;"></div></body></html><script src="{% static 'js/echarts-all.min.js' %}"></script><script>    $(function () {        var myChart = echarts.init(document.getElementById('content'));        line_option = {            tooltip: {                trigger: 'axis',                axisPointer: {                    type: 'line'                },                formatter: function (param) {                    var param = param[0];                    return '时间：' + ticks_data.time.reverse()[param.dataIndex] + '<br>' +                        '价格：' + ticks_data.price.reverse()[param.dataIndex] + '<br>' +                        '涨跌：' + ticks_data.pchange.reverse()[param.dataIndex] + '<br>' +                        '变动：' + ticks_data.change.reverse()[param.dataIndex] + '<br>' +                        '成交：' + ticks_data.volume.reverse()[param.dataIndex] + '<br>' +                        '金额：' + ticks_data.amount.reverse()[param.dataIndex] + '<br>' +                        '类型：' + ticks_data.type.reverse()[param.dataIndex]                }            },            dataZoom: [                {                    show: true,                    realtime: true,                    start: 80,                    end: 100                }            ],            xAxis: {                data: []            },            yAxis: {                scale: true,                axisLine: {lineStyle: {color: '#8392A5'}},            },            series: [{                showSymbol: false,                hoverAnimation: false,                type: 'line',                data: []            }]        };        myChart.setOption(line_option);        $.get('{% url "finance:get k ticks data" "600848" %}', function (data) {            ticks_data = data;            var point = [                {                    name: '买',                    coord: ['2013/5/31', 2300],                    value: 2300,                    itemStyle: {                        normal: {color: 'rgb(41,60,85)'}                    }                },                {                    name: '卖',                    coord: ['2013/6/3', 2300.21],                    itemStyle: {                        normal: {color: 'rgb(41,60,85)'}                    }                }            ]            myChart.setOption({                xAxis: {                    data: data.time.reverse()                },                series: [{                    data: data.price.reverse(),                    markPoint: {                        label: {                            normal: {                                formatter: function (param) {                                    return param.name;                                }                            }                        },                        data: point                    }                }]            });        });        $(window).resize(function () {            myChart.resize();        });    })</script>